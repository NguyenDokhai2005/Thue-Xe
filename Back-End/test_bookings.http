### Booking API Tests (standalone)

### Prerequisites
### - {{admin_token}}: JWT token of an admin
### - {{user_token}}: JWT token of a normal user
### - {{vehicle_id}}: Existing vehicle ID to book
### - {{start_iso}} / {{end_iso}}: ISO-8601 times (e.g., 2025-10-20T09:00:00)
### - {{booking_id}}: ID returned from create or /me list

### 1) Create booking (USER)
POST http://localhost:8080/api/bookings
Authorization: Bearer {{user_token}}
Content-Type: application/json

{
  "vehicleId": {{vehicle_id}},
  "startAt": "{{start_iso}}",
  "endAt": "{{end_iso}}",
  "notes": "Thuê cuối tuần"
}

### 2) Get my bookings (USER)
GET http://localhost:8080/api/bookings/me
Authorization: Bearer {{user_token}}

### 3) Admin confirm booking (now moves PENDING -> ACTIVE and marks vehicle RENTED)
POST http://localhost:8080/api/bookings/{{booking_id}}/confirm
Authorization: Bearer {{admin_token}}

### 4) Admin complete booking
POST http://localhost:8080/api/bookings/{{booking_id}}/complete
Authorization: Bearer {{admin_token}}

### 5) Cancel booking (USER or ADMIN)
POST http://localhost:8080/api/bookings/{{booking_id}}/cancel
Authorization: Bearer {{user_token}}

### 6) Negative test: Overlap booking (expect 400)
POST http://localhost:8080/api/bookings
Authorization: Bearer {{user_token}}
Content-Type: application/json

{
  "vehicleId": {{vehicle_id}},
  "startAt": "{{start_iso}}",
  "endAt": "{{end_iso}}",
  "notes": "Overlap check"
}


